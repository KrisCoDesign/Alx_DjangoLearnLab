<!-- profile.html -->

{% extends 'base.html' %}

{% block content %}

  <h1>User Profile</h1>

  <div class="profile-info">
    <h2>{{ user.username }}</h2>
    <p>Email: {{ user.email }}</p>
    <p>Joined: {{ user.date_joined }}</p>
  </div>

  <h2>Edit Profile</h2>
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Update Profile</button>
  </form>

  {% if user.profile.profile_picture %}
    <h2>Profile Picture</h2>
    <img src="{{ user.profile.profile_picture.url }}" alt="Profile Picture">
  {% endif %}

  {% if user.profile.bio %}
    <h2>Bio</h2>
    <p>{{ user.profile.bio }}</p>
  {% endif %}

  <h2>Posts</h2>
  <ul>
    {% for post in user.post_set.all %}
      <li>
        <a href="#">{{ post.title }}</a>
      </li>
    {% empty %}
      <li>No posts yet!</li>
    {% endfor %}
  </ul>
  
  <a href="{% url 'logout' %}">Logout</a>

{% endblock %}